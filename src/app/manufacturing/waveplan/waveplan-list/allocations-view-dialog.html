<h1 class="viewDialogHeader" mat-dialog-title cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>
    <mat-toolbar role="toolbar" class="task-header">
        <span class="viewDialogTitle">Wave</span>
        <span class="fx-spacer"></span>
        <button mat-icon-button (click)="onAllocationCloseClick()">
            <mat-icon class="viewDialogCloseIcon" mat-list-icon>close</mat-icon>
        </button>
    </mat-toolbar>
</h1>
<div mat-dialog-content [ngClass]="'pb-24'">
    <div class="roleSearchBox" fxLayout="column">
        <div fxLayout="row" fxFlex="100">
            <div class="searchBoxLabel" fxLayout="column" fxLayoutAlign="center">Wave Number :</div>
            <div>
                <input matInput autocomplete="off" [ngClass]="'searchInput'" [(ngModel)]='waveNumberInput' required>
            </div>
    
            <div class="searchBoxLabel" fxLayout="column" fxLayoutAlign="center">IU :</div>
            <div>
                <input matInput autocomplete="off" [ngClass]="'searchInput'" [(ngModel)]='IUInput' required>
            </div>
        </div>
    </div>
    <div class="container" fxLayout="column" *ngIf="!dataProgress">
        <!-- <div [ngClass]="'mb10'" fxLayout="row" fxLayoutGap="20px"> -->
            <!-- <div fxLayout="column" fxFlex>
                <div fxLayout="row" [ngClass]="'mb10'">
                    <div fxLayout="column" fxFlex="25">
                        <span [ngClass]="'viewDialogDataTitle'">Wave Number</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].waveNumber ? data[0].waveNumber : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="25">
                        <span [ngClass]="'viewDialogDataTitle'">IU</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].iuName ? data[0].iuName : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="25">
                        <span [ngClass]="'viewDialogDataTitle'">Status</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].waveStatus ? data[0].waveStatus : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="25">
                        <span [ngClass]="'viewDialogDataTitle'">Task Type</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].waveTaskType ? data[0].waveTaskType : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="25">
                        <span [ngClass]="'viewDialogDataTitle'">Policy</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].wavePolicyId ? data[0].wavePolicyId : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="25">
                        <span [ngClass]="'viewDialogDataTitle'">Pick Slip Group</span>
                        <span
                            [ngClass]="'viwDialogData'">{{data[0].wavePickSlipGroup ? data[0].wavePickSlipGroup : '-'}}</span>
                    </div>
                </div>
            </div> -->
       
        <!-- </di/v> -->
        <!-- <div [ngClass]="'marginT15'" fxLayout="row" fxLayoutGap="5px">
            <div fxFlex="100" [ngClass]="'viewDialogLabelBar'">
                <mat-label [ngClass]="'viewDialogLabel'">ASN Lines:</mat-label>
            </div>
        </div> -->
        <div [ngClass]="'customTable'" [ngStyle]="{ 'min-width': 'auto', 'max-height': '240px' }">
            <!-- <table mat-table [dataSource]="allocationParameterDataSource">
                <ng-container matColumnDef="serialNumber">
                    <th mat-header-cell *matHeaderCellDef>No</th>
                    <td mat-cell *matCellDef="let element; let i=index">
                        <span>{{i+1}}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="soNumber">
                    <th mat-header-cell *matHeaderCellDef>Sales Order</th>
                    <td mat-cell *matCellDef="let element">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.soNumber ? element.soNumber : '-'
                        }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="soLineNumber">
                    <th mat-header-cell *matHeaderCellDef>SO Line</th>
                    <td mat-cell *matCellDef="let element">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.soLineNumber ? element.soLineNumber : '-'
                        }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="itemName">
                    <th mat-header-cell *matHeaderCellDef>Item</th>
                    <td mat-cell *matCellDef="let element">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.itemName ? element.itemName : '-'
                        }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="revsnNumber">
                    <th mat-header-cell *matHeaderCellDef>Item revision</th>
                    <td mat-cell *matCellDef="let element">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.revsnNumber ? element.revsnNumber : '-'
                        }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="soShipmentNumber">
                    <th mat-header-cell *matHeaderCellDef>Shipment</th>
                    <td mat-cell *matCellDef="let element">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.soShipmentNumber ? element.soShipmentNumber : '-'
                        }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="waveQuantity">
                    <th mat-header-cell *matHeaderCellDef>Qty</th>
                    <td mat-cell *matCellDef="let element">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.waveQuantity ? element.waveQuantity : '-'
                        }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="waveQuantityUomCode">
                    <th mat-header-cell *matHeaderCellDef>UOM</th>
                    <td mat-cell *matCellDef="let element">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.waveQuantityUomCode ? element.waveQuantityUomCode : '-'
                        }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="waveStatus">
                    <th mat-header-cell *matHeaderCellDef>Status</th>
                    <td mat-cell *matCellDef="let element">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.waveStatus ? element.waveStatus : '-'
                        }}</span>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="allocationParameterDisplayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: allocationParameterDisplayedColumns"></tr>
            </table> -->
        
        <table mat-table [dataSource]="allocationParameterDataSource" matSort class="resize-table" style="min-width: 1800px;">
            <!-- <ng-container matColumnDef="rowSelect">
                    <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[0].field">&nbsp;</th>
                    <td mat-cell *matCellDef="let element; let j = index">
                        <mat-checkbox [(ngModel)]="element.rowSelect" [ngClass]="'searchBoxLabel'">
                        </mat-checkbox>
                    </td>
                </ng-container> -->
            <ng-container matColumnDef="No">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'cursor-auto mat-header-column-'+columns[0].field">
                    {{ columns[0].name }}
                </th>
                <td mat-cell *matCellDef="let element; let i = index;">
                    {{i + 1}}
                </td>
            </ng-container>
            <ng-container matColumnDef="item">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[1].field"
                    (mousedown)="commonService.onResizeColumn($event, 1, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[1].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element ; let i=index">
                    <div >
                        <span [ngClass]="'nonEditiableField'" style="pointer-events: none; " class="maxWidthSelect setWidth">
        
                            <span>{{element.item}}</span>
        
                        </span>
                    </div>
                </td>
            </ng-container>
            <ng-container matColumnDef="revision">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[2].field"
                    (mousedown)="commonService.onResizeColumn($event, 2, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[2].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element; let i=index">
        
                    <div >
                        <span [ngClass]="'nonEditiableField'" style="pointer-events: none; " class="maxWidthSelect setWidth">
        
                            <span>{{element.revision}}</span>
        
                        </span>
                    </div>
                </td>
            </ng-container>
        
            <ng-container matColumnDef="allocatedQty">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[3].field"
                    (mousedown)="commonService.onResizeColumn($event, 3, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[3].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <div >
                        <span [ngClass]="'nonEditiableField'">{{element.allocatedQty}}</span>
                    </div>
                </td>
            </ng-container>
            <ng-container matColumnDef="UOM">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[4].field"
                    (mousedown)="commonService.onResizeColumn($event, 4, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[4].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <div >
                        <span [ngClass]="'nonEditiableField'">{{element.UOM}}</span>
                    </div>
                </td>
            </ng-container>
            <ng-container matColumnDef="salesOrder">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[5].field"
                    (mousedown)="commonService.onResizeColumn($event, 5, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[5].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <span >{{element.salesOrder}}</span>
                </td>
            </ng-container>
            <ng-container matColumnDef="soLine">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[6].field"
                    (mousedown)="commonService.onResizeColumn($event, 6, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[6].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <div >
                        <span [ngClass]="'nonEditiableField'">{{element.soLine}}</span>
                    </div>
                </td>
            </ng-container>
            <ng-container matColumnDef="LG">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[7].field"
                    (mousedown)="commonService.onResizeColumn($event, 7, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[7].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <div >
                        <span [ngClass]="'nonEditiableField'">{{element.LG}}</span>
                    </div>
                </td>
            </ng-container>
            <ng-container matColumnDef="locator">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[8].field"
                    (mousedown)="commonService.onResizeColumn($event, 8, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[8].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <div >
                        <span [ngClass]="'nonEditiableField'">{{element.locator}}</span>
                    </div>
                </td>
            </ng-container>
            <ng-container matColumnDef="lpn">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[9].field"
                    (mousedown)="commonService.onResizeColumn($event, 9, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[9].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <div >
                        <span [ngClass]="'nonEditiableField'">{{element.lpn}}</span>
                    </div>
                </td>
            </ng-container>
            <ng-container matColumnDef="batch">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[10].field"
                    (mousedown)="commonService.onResizeColumn($event, 10, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[10].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <div >
                        <span [ngClass]="'nonEditiableField'">{{element.batch}}</span>
                    </div>
                </td>
            </ng-container>
            <ng-container matColumnDef="pickSlipNumber">
                <th mat-header-cell *matHeaderCellDef [ngClass]="'mat-header-column-'+columns[11].field"
                    (mousedown)="commonService.onResizeColumn($event, 11, columns, matTableRef)">
                    <span mat-sort-header>{{ columns[11].name }}</span>
                </th>
                <td mat-cell *matCellDef="let element">
                    <div >
                        <span [ngClass]="'nonEditiableField'">{{element.pickSlipNumber}}</span>
                    </div>
                </td>
            </ng-container>
            <!-- <ng-container matColumnDef="action" stickyEnd>
                <th mat-header-cell *matHeaderCellDef
                    [ngClass]="'cursor-auto actionColumn mat-header-column-'+columns[12].field">
                    {{ columns[12].name }}
                </th>
                <td mat-cell *matCellDef="let element; let i=index" [ngClass]="'actionIcons'">
                    <div fxLayout="row" fxLayoutGap="5px" fxLayoutAlign="center center">
                        <span *ngIf="!element.addNewRecord && element.isDefault" class="icon-edit"
                            (click)="beginEdit(element, $event)" matRipple matTooltip="Edit"
                            [matTooltipPosition]="tooltipPosition" [matRippleColor]="'#098ccd3b'" [matRippleCentered]="true"
                            [matRippleRadius]="false"></span>
                        <span *ngIf="!element.addNewRecord && element.editing" [ngClass]="'padding0'">
                            <span class="icon-clear"
                                (click)="disableEdit(element, paginator.pageSize * paginator.pageIndex + i)" matRipple
                                matTooltip="Cancel" [matTooltipPosition]="tooltipPosition" [matRippleColor]="'#098ccd3b'"
                                [matRippleCentered]="true" [matRippleRadius]="false"></span>
                        </span>
                        <span *ngIf="element.addNewRecord && !element.isDefault " [ngClass]="'padding0'">
                            <span class="icon-clear" (click)="deleteRow(element, i)" matRipple matTooltip="Cancel"
                                [matTooltipPosition]="tooltipPosition" [matRippleColor]="'#098ccd3b'" [matRippleCentered]="true"
                                [matRippleRadius]="false"></span>
                        </span>
                    </div>
                </td>
            </ng-container> -->
            <tr mat-header-row *matHeaderRowDef="allocationsDisplayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: allocationsDisplayedColumns;"></tr>
        </table>
        </div>
    </div>
    <div class="container" fxLayout="column" *ngIf="dataProgress">
        <ng-container>
            <mat-spinner [diameter]="40" [ngClass]="'loaderSpinner'"></mat-spinner>
        </ng-container>
    </div>
</div>
<div mat-dialog-actions [ngClass]="'viewActionFooter'">
    <button mat-flat-button [ngClass]="'formButton saveButton'" color="primary"
        (click)="onAllocationCloseClick()" cdkFocusInitial>Back</button>
    <button mat-flat-button [ngClass]="'formButton saveButton'" color="primary"
        (click)="editAllocations()" cdkFocusInitial>Edit</button>
</div>