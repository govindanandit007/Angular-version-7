<h1 class="viewDialogHeader" mat-dialog-title cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>
    <mat-toolbar role="toolbar" class="task-header">
        <span class="viewDialogTitle">Work Order</span>
        <span class="fx-spacer"></span>
        <button mat-icon-button (click)="onCloseClick()">
            <mat-icon class="viewDialogCloseIcon" tabindex="0" mat-list-icon>close</mat-icon>
        </button>
    </mat-toolbar>
</h1>
<div mat-dialog-content [ngClass]="'pb-24'">
    <div class="container" fxLayout="column" *ngIf="!dataProgress">
        <div [ngClass]="'mb10'" fxLayout="row" fxLayoutGap="20px">
            <div fxLayout="column" fxFlex>
                <div fxLayout="row" [ngClass]="'mb10'">
                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">WO Number</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].woNumber ? data[0].woNumber : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">Type</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].typeName ? data[0].typeName : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">SubType</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].woSubTypeName ? data[0].woSubTypeName : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">Status</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].statusName ? data[0].statusName : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">Priority</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].priorityName ? data[0].priorityName : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">Assembly Item</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].assemblyItem ? data[0].assemblyItem : '-'}}</span>
                    </div>


                </div>
                <div fxLayout="row" [ngClass]="'mb10'">

                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">Description</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].woDescription ? data[0].woDescription : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">UOM</span>
                        <span [ngClass]="'viwDialogData'">{{uomDescription ?uomDescription : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">Quantity</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].quantity ? data[0].quantity : '-'}}</span>
                    </div>
                    <!-- <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">Completed Qty</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].completedQty ? data[0].completedQty : '-' }}</span>
                    </div> -->


                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">Start Date</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].startDate ? (data[0].startDate | date) :
                            '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">Completion Date</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].woCompletionDate ? (data[0].woCompletionDate | date)
                            : '-'}}</span>
                    </div>
                    <div fxLayout="column" fxFlex="20">
                        <span [ngClass]="'viewDialogDataTitle'">Completed Qty</span>
                        <span [ngClass]="'viwDialogData'">{{data[0].completedQty ? data[0].completedQty : '-'}}</span>
                    </div>
                </div>
            </div>
        </div>
        <div [ngClass]="'marginT15'" fxLayout="row" fxLayoutGap="5px">
            <div fxFlex="100" [ngClass]="'viewDialogLabelBar'">
                <mat-label [ngClass]="'viewDialogLabel'">Work Order Lines :</mat-label>
            </div>
        </div>
        <div [ngClass]="'customTable'" [ngStyle]="{ 'min-width': 'auto', 'max-height': '240px' }">
            <table mat-table [dataSource]="parameterDataSource" style="min-width: 500px;">
                <ng-container matColumnDef="woLineId">
                    <th mat-header-cell *matHeaderCellDef>#</th>
                    <td mat-cell *matCellDef="let element; let i=index">
                        <span>{{i+1}}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="woLineIuId">
                    <th mat-header-cell *matHeaderCellDef class="customWidth80">IU</th>
                    <td mat-cell *matCellDef="let element" class="customWidth80">
                        <span [ngClass]="'nonEditiableField '">{{
                            element.iuName ? element.iuName : '-'
                            }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="woLineNumber">
                    <th mat-header-cell *matHeaderCellDef class="customWidth50">Line #</th>
                    <td mat-cell *matCellDef="let element" class="customWidth50">
                        <span [ngClass]="'nonEditiableField  customWidth50'">{{
                            element.woLineNumber ? element.woLineNumber : '-'
                            }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="woCmpItemId">
                    <th mat-header-cell *matHeaderCellDef class="customWidth100">Component Item</th>
                    <td mat-cell *matCellDef="let element" class="customWidth100">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.itemName ? element.itemName : '-'
                            }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="woCmpUom">
                    <th mat-header-cell *matHeaderCellDef class="customWidth50">UOM</th>
                    <td mat-cell *matCellDef="let element" class="customWidth50">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.uomDescription ? element.uomDescription : '-'
                            }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="woCmpQty">
                    <th mat-header-cell *matHeaderCellDef class="customWidth50">Qty</th>
                    <td mat-cell *matCellDef="let element" class="customWidth50">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.woCmpQty ? element.woCmpQty : '-'
                            }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="woLineStatus">
                    <th mat-header-cell *matHeaderCellDef class="customWidth80">Line Status</th>
                    <td mat-cell *matCellDef="let element" class="customWidth80">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.woLineStatusDescription ? element.woLineStatusDescription : '-'
                            }}</span>
                    </td>
                </ng-container>


                <!-- <ng-container matColumnDef="woCmpConsumedQty">
                    <th mat-header-cell *matHeaderCellDef>Consumed Qty</th>
                    <td mat-cell *matCellDef="let element">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.woCmpConsumedQty ? element.woCmpConsumedQty : '-'
                        }}</span>
                    </td>
                </ng-container> 
            woStatus: "Un-Released"
woType: "Standard"
woUom: "EA"
            -->




                <ng-container matColumnDef="woCmpReqDate">
                    <th mat-header-cell *matHeaderCellDef class="customWidth80">Request Date</th>
                    <td mat-cell *matCellDef="let element" class="customWidth80">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.woCmpReqDate ? (element.woCmpReqDate | date) : '-'

                            }}</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="woCmpCompDate">
                    <th mat-header-cell *matHeaderCellDef class="customWidth80">Completion Date</th>
                    <td mat-cell *matCellDef="let element" class="customWidth80">
                        <span [ngClass]="'nonEditiableField'">{{
                            element.woCmpCompDate ? (element.woCmpCompDate | date) : '-'
                            }}</span>
                    </td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="woViewdColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: woViewdColumns"></tr>
            </table>
            <ng-container *ngIf="parameterDataSource.data.length === 0">
                <div [ngClass]="'noDataFound'"><small>No Wave Order Line is Defined</small></div>
            </ng-container>
        </div>
    </div>
    <div class="container" fxLayout="column" *ngIf="dataProgress">
        <ng-container>
            <mat-spinner [diameter]="40" [ngClass]="'loaderSpinner'"></mat-spinner>
        </ng-container>
    </div>
</div>
<div mat-dialog-actions [ngClass]="'viewActionFooter'" 
    *ngIf="data[0].statusCode === 'UNRELEASED' 
      ">
    <button mat-flat-button [ngClass]="'formButton saveButton'" color="primary" [mat-dialog-close]="data[0].woId"
        cdkFocusInitial>Edit</button>
</div>
<!-- data[0].soHostId === null --
    
    && data[0].woStatus !== 'PART_RESERVED' 
        && data[0].woStatus !== 'RESERVED' -->